<div class="flex justify-center items-start min-h-screen bg-gray-100 pt-12">
  <div class="w-full max-w-2xl bg-white p-8 rounded-2xl shadow-md">

    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-800">Mes tÃ¢ches</h2>

    <div class="flex gap-4 mb-6">
      <input
        type="text"
        [value]="newTaskLabel()"
        (input)="onInputChange($event)"
        placeholder="Nouvelle tÃ¢che..."
        class="flex-1 px-4 py-2 bg-gray-100 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400"
      />
      <button
        (click)="addTask()"
        class="px-6 py-2 bg-amber-400 text-white font-semibold rounded-xl hover:bg-amber-500 transition duration-200"
      >
        Ajouter
      </button>
    </div>

    <ul class="space-y-4">
      <li *ngFor="let task of tasks()" class="flex items-center gap-4 p-4 bg-gray-50 rounded-xl shadow-sm">
        <input
          type="checkbox"
          [checked]="task.done"
          (change)="toggleDone(task)"
          class="h-5 w-5 text-amber-400 accent-amber-400"
        />

        <input
          type="text"
          [value]="task.label"
          (blur)="onLabelChange($event, task)"
          (keyup.enter)="onLabelChange($event, task)"
          class="flex-1 px-3 py-1 bg-gray-100 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400"
        />

        <strong class="text-xl">{{ task.done ? 'âœ…' : 'âŒ' }}</strong>

        <button
          (click)="deleteTask(task.id)"
          class="text-gray-500 hover:text-red-600 transition duration-200 text-xl"
          title="Supprimer la tÃ¢che"
        >
          ğŸ—‘ï¸
        </button>
      </li>
    </ul>
    
    <div class="mt-6">
      <a 
      class="bg-amber-400 text-white font-semibold py-2 px-4 rounded-xl hover:bg-amber-500 transition duration-200 hover:cursor-pointer" 
      routerLink="/dashboard"
      >
      Retour au dashboard
      </a>
    </div>

    <div *ngIf="error()" class="mt-6 bg-red-100 text-red-700 px-4 py-2 rounded-lg text-center">
      {{ error() }}
    </div>

  </div>
</div>
